---
title: 《改善JAVA程序的151个建议》 小记
tags: java
grammar_cjkRuby: true
---


### 少用静态导入

- 不使用*通配符来导入
- 方法名是具有明确，清晰的含义

### 不要覆盖静态导入的变量

### 序列化是显示声明UID，这样在修改bean文件的时候，不影响反序列化的使用。如果默认，这个UID串是根据属性等生成的。

### 在序列号类中，不使用构造函数为final变量赋值

### final变量在以下情况不会被重新赋值

- 通过构造函数为final变量赋值
- 通过方法返回为final变量赋值
- final修饰的属性不是基本类型

### 在switch中case后面，记住加break。

### 慎用动态编译

### 避免instanceof 出现的非预期结果，instanceof只能用于对象的判断，不能用于基本类型的判断，instanceof 左侧是null 一定返回false，即使类型转换也没有用，instanceof 左右的参数必须是有继承关系的

### 发布系统是，禁止使用文件直接替换方式，最好整体WAR包发布才是最好的做法。

### 判断奇偶性，用偶数规则来判断，避免负数的情况

### 处理货币类型 Java类型用Bigdecimal 或者 int类型，注意int类型的最大值

### 类型转换尽量主动转换，不要默认强制转换，造成不必要的bug

### 注意边界问题，常见的是int的最大值

### 包装类型参与运算，注意null值判断。

### 在基本类型包装的时候回优先使用整型池，通过包装类的valueOf生成的包装实例可以显著的提高空间和时间性能

### 变量要先声明，后使用，尤其是静态变量

### 静态方法不能覆写，但能隐藏

### 避免工具类实例化 把构造方法给成private类型

### 避免浅拷贝，实现cloneable方法，是浅拷贝，需要深拷贝，就是当时对象的时候重新new一个新的对象

### 进行深拷贝的时候，推荐使用序列号和反序列化类进行拷贝

### 覆写equal函数是，建议不要修改数据，比如私自去空格什么，变大小，要么就同时去掉，考虑null。有继承的时候父类比较推荐使用getClass来比较。
### 覆写equal函数，必须覆写hasecode函数

### 推荐覆写toString函数

### 在进行字符串拼接的时候，如果其中还有其他类型，注意字符串的位置

### 集合类在初始化的时候建议初始化容量

### 原始类型数组不能作为asList的输入参数，否则会引起程序错乱【把数组当做一个类型进行转换，list的长度为1】

### Arrays.asList 形成的arrayList 是Array工具类中的一个内置类，和我们常用的ArrayList集合类不一样。add方法不可使用
 
### 不同的列表选择不同的遍历方式，如：ArrayList 直接用get序号xuanqu，如果是LinkedList 就用foreach 用法（foreach 会自动创建元素之间的关系，所以在无序的ArrayList使用会效率特别低）

### 判断集合相等时只需关注元素是否相等即可

### Collections.binarySearch(); 方法快速查找

### TreeSet 适合不变量的集合数据排序

### HashMap 数据量尽量小一些，第一他会封装成Entry对象占用资源，而且扩容是成倍扩容

### 枚举类慎用 valueOf 方法

### 不同场景使用不同的泛型通配符
(1) 泛型结构只参与“读”操作则限定上届（extends关键字）
(2) 泛型结构只参与“写”操作则限定下届（super关键字）








