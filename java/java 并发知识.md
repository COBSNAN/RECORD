---
title: java 并发知识
tags: java
grammar_cjkRuby: true
---

### volatile 使用优化

追加字节到64字节，这样占用一个高速缓存行，这样在处理的时候会将整个缓存行锁定而不会影响其他处理器的访问。

### 锁

> 锁信息储存在java对象头的 Mark Word 中。

#### 锁的种类
- 偏向锁
- 轻量级锁
- 重量级锁

以上锁的级别是逐渐升级的，锁可以升级但不能降级。

### 处理器如何实现原子操作
- 使用总线锁保证原子性
- 使用缓存锁保证原子性

### java如何实现原子操作

通过锁和循环CAS的方式来实现原子操作

